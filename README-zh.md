# ExcaliApp - Excalidraw æ¡Œé¢ç¼–è¾‘å™¨

ä¸€æ¬¾å…è´¹å¼€æºçš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œç”¨äºç®¡ç†å’Œç¼–è¾‘æœ¬åœ° Excalidraw æ–‡ä»¶ã€‚åŸºäº Tauri æ„å»ºï¼Œæä¾›åŸç”Ÿæ¡Œé¢ä½“éªŒï¼ŒåŒæ—¶ä¿æŒç†Ÿæ‚‰çš„ Excalidraw ç•Œé¢ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“ **æœ¬åœ°æ–‡ä»¶ç®¡ç†**ï¼šç›´æ¥ä»æ–‡ä»¶ç³»ç»Ÿæµè§ˆå’Œç»„ç»‡æ‚¨çš„ Excalidraw æ–‡ä»¶
- ğŸ¨ **å®Œæ•´çš„ Excalidraw ç¼–è¾‘å™¨**ï¼šåŒ…å«å®˜æ–¹ Excalidraw ç¼–è¾‘å™¨çš„å®Œæ•´ç»˜å›¾å’Œå›¾è¡¨åŠŸèƒ½
- ğŸ’¾ **è‡ªåŠ¨ä¿å­˜**ï¼šæ¯ 30 ç§’è‡ªåŠ¨ä¿å­˜ï¼Œæ°¸ä¸ä¸¢å¤±æ‚¨çš„å·¥ä½œ
- ğŸš€ **å¿«é€Ÿæ–‡ä»¶åˆ‡æ¢**ï¼šåœ¨å¤šä¸ªå›¾è¡¨ä¹‹é—´å¿«é€Ÿå¯¼èˆª
- ğŸŒ² **æ ‘å½¢è§†å›¾å¯¼èˆª**ï¼šåˆ†å±‚æ–‡ä»¶æµè§ˆå™¨ï¼Œæ›´å¥½åœ°ç»„ç»‡æ–‡ä»¶
- ğŸ¯ **åŸç”Ÿèœå•**ï¼šç‰¹å®šå¹³å°çš„èœå•å’Œé”®ç›˜å¿«æ·é”®
- ğŸŒ“ **ä¸»é¢˜æ”¯æŒ**ï¼šæµ…è‰²ã€æ·±è‰²å’Œç³»ç»Ÿä¸»é¢˜é€‰é¡¹
- ğŸ”’ **å®‰å…¨ä¼˜å…ˆ**ï¼šè·¯å¾„éªŒè¯å’Œå†…å®¹æ¸…ç†ï¼Œç¡®ä¿æ–‡ä»¶æ“ä½œå®‰å…¨

## å®‰è£…

### ä¸‹è½½é¢„æ„å»ºç‰ˆæœ¬

*å³å°†æ¨å‡º - é¢„æ„å»ºçš„äºŒè¿›åˆ¶æ–‡ä»¶å°†åœ¨ Releases éƒ¨åˆ†æä¾›*

### ä»æºä»£ç æ„å»º

#### å‰ç½®è¦æ±‚

- [Node.js](https://nodejs.org/)ï¼ˆv18 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰
- [Rust](https://www.rust-lang.org/)ï¼ˆæœ€æ–°ç¨³å®šç‰ˆï¼‰
- å¹³å°ç‰¹å®šçš„å¼€å‘å·¥å…·ï¼š
  - **Windows**ï¼šVisual Studio Build Tools
  - **macOS**ï¼šXcode Command Line Tools  
  - **Linux**ï¼š`build-essential`ã€`libwebkit2gtk-4.1-dev`ã€`libssl-dev`

#### æ„å»ºæ­¥éª¤

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/excaliapp.git
cd excaliapp

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
npm run tauri dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run tauri build
```

æ„å»ºçš„åº”ç”¨ç¨‹åºå°†ä½äº `src-tauri/target/release/bundle/` ç›®å½•ä¸­

## ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹

1. **å¯åŠ¨åº”ç”¨ç¨‹åº**ï¼šä»åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹æ‰“å¼€ ExcaliApp æˆ–è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶

2. **é€‰æ‹©ç›®å½•**ï¼š
   - é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œç³»ç»Ÿä¼šæç¤ºæ‚¨é€‰æ‹©åŒ…å« Excalidraw æ–‡ä»¶çš„æ–‡ä»¶å¤¹
   - åº”ç”¨ç¨‹åºä¼šè®°ä½æ‚¨ä¸Šæ¬¡é€‰æ‹©çš„ç›®å½•ï¼Œä»¥ä¾¿åç»­ä¼šè¯ä½¿ç”¨
   - ä½¿ç”¨ `æ–‡ä»¶ â†’ æ‰“å¼€ç›®å½•`ï¼ˆCtrl/Cmd+Oï¼‰éšæ—¶æ›´æ”¹ç›®å½•

3. **åˆ›å»ºæˆ–ç¼–è¾‘æ–‡ä»¶**ï¼š
   - ç‚¹å‡»"æ–°å»ºæ–‡ä»¶"æˆ–ä½¿ç”¨ `æ–‡ä»¶ â†’ æ–°å»ºæ–‡ä»¶`ï¼ˆCtrl/Cmd+Nï¼‰åˆ›å»ºæ–°å›¾è¡¨
   - ç‚¹å‡»ä¾§è¾¹æ ä¸­çš„ä»»ä½•æ–‡ä»¶ä»¥æ‰“å¼€ç¼–è¾‘
   - æ‚¨çš„æ›´æ”¹æ¯ 30 ç§’è‡ªåŠ¨ä¿å­˜ä¸€æ¬¡

4. **åœ¨æ–‡ä»¶ä¹‹é—´å¯¼èˆª**ï¼š
   - ä½¿ç”¨æ ‘å½¢è§†å›¾ä¾§è¾¹æ æµè§ˆæ–‡ä»¶ç»“æ„
   - ç‚¹å‡»æ–‡ä»¶å¤¹ä»¥å±•å¼€/æŠ˜å 
   - æ–‡ä»¶æŒ‰æ–‡ä»¶å¤¹ä¼˜å…ˆï¼Œç„¶åæŒ‰å­—æ¯é¡ºåºæ’åº

### é”®ç›˜å¿«æ·é”®

| æ“ä½œ | Windows/Linux | macOS |
|------|--------------|-------|
| æ–°å»ºæ–‡ä»¶ | Ctrl+N | Cmd+N |
| æ‰“å¼€ç›®å½• | Ctrl+O | Cmd+O |
| ä¿å­˜ | Ctrl+S | Cmd+S |
| å¦å­˜ä¸º | Ctrl+Shift+S | Cmd+Shift+S |
| åˆ‡æ¢ä¾§è¾¹æ  | Ctrl+B | Cmd+B |
| é€€å‡º | Ctrl+Q | Cmd+Q |

### æ–‡ä»¶æ“ä½œ

- **åˆ›å»º**ï¼šç‚¹å‡»"æ–°å»ºæ–‡ä»¶"æŒ‰é’®æˆ–ä½¿ç”¨èœå•/å¿«æ·é”®
- **é‡å‘½å**ï¼šå³é”®ç‚¹å‡»æ–‡ä»¶å¹¶é€‰æ‹©"é‡å‘½å"
- **åˆ é™¤**ï¼šå³é”®ç‚¹å‡»æ–‡ä»¶å¹¶é€‰æ‹©"åˆ é™¤"
- **è‡ªåŠ¨ä¿å­˜**ï¼šæ–‡ä»¶æ¯ 30 ç§’è‡ªåŠ¨ä¿å­˜ä¸€æ¬¡ï¼Œåœ¨æ–‡ä»¶ä¹‹é—´åˆ‡æ¢æ—¶ä¹Ÿä¼šä¿å­˜

## æ¶æ„è®¾è®¡

### é«˜å±‚æ¶æ„

```mermaid
graph TB
    subgraph "å‰ç«¯ï¼ˆWeb æŠ€æœ¯ï¼‰"
        UI[React ç•Œé¢]
        EX[Excalidraw ç¼–è¾‘å™¨]
        SM[çŠ¶æ€ç®¡ç†]
        UI --> EX
        UI --> SM
    end
    
    subgraph "Tauri æ¡¥æ¥å±‚"
        IPC[IPC å‘½ä»¤]
        EV[äº‹ä»¶ç³»ç»Ÿ]
    end
    
    subgraph "åç«¯ï¼ˆRustï¼‰"
        FM[æ–‡ä»¶ç®¡ç†å™¨]
        SEC[å®‰å…¨å±‚]
        PREF[åå¥½è®¾ç½®å­˜å‚¨]
        MENU[åŸç”Ÿèœå•]
        FS[æ–‡ä»¶ç³»ç»Ÿ]
        FM --> SEC
        FM --> FS
    end
    
    UI <--> IPC
    SM <--> IPC
    IPC <--> FM
    IPC <--> PREF
    EV --> UI
    FS --> EV
    MENU --> IPC
```

### ç»„ä»¶äº¤äº’æµç¨‹

```mermaid
sequenceDiagram
    participant ç”¨æˆ·
    participant UI as React ç•Œé¢
    participant IPC as Tauri IPC
    participant Rust as Rust åç«¯
    participant FS as æ–‡ä»¶ç³»ç»Ÿ
    
    ç”¨æˆ·->>UI: ä»ä¾§è¾¹æ é€‰æ‹©æ–‡ä»¶
    UI->>IPC: invoke('read_file', {path})
    IPC->>Rust: read_file å‘½ä»¤
    Rust->>Rust: éªŒè¯è·¯å¾„å®‰å…¨æ€§
    Rust->>FS: è¯»å–æ–‡ä»¶å†…å®¹
    FS-->>Rust: æ–‡ä»¶æ•°æ®
    Rust->>Rust: éªŒè¯ JSON å†…å®¹
    Rust-->>IPC: è¿”å›å†…å®¹
    IPC-->>UI: æ–‡ä»¶å†…å®¹
    UI->>UI: åœ¨ Excalidraw ç¼–è¾‘å™¨ä¸­åŠ è½½
    
    ç”¨æˆ·->>UI: ç¼–è¾‘å›¾è¡¨
    UI->>UI: è‡ªåŠ¨ä¿å­˜è®¡æ—¶å™¨ï¼ˆ30ç§’ï¼‰
    UI->>IPC: invoke('save_file', {path, content})
    IPC->>Rust: save_file å‘½ä»¤
    Rust->>Rust: éªŒè¯è·¯å¾„å’Œå†…å®¹
    Rust->>FS: å†™å…¥æ–‡ä»¶
    FS-->>Rust: æˆåŠŸ
    Rust-->>IPC: æˆåŠŸå“åº”
    IPC-->>UI: ä¿å­˜ç¡®è®¤
    UI->>UI: æ›´æ–°çŠ¶æ€
```

### æŠ€æœ¯æ ˆ

- **æ¡Œé¢æ¡†æ¶**ï¼š[Tauri 2.x](https://tauri.app/) - åŸºäº Rust çš„åŸç”Ÿæ¡Œé¢åº”ç”¨æ¡†æ¶
- **å‰ç«¯æ¡†æ¶**ï¼š[React 19](https://react.dev/) é…åˆ TypeScript
- **ç»˜å›¾å¼•æ“**ï¼š[@excalidraw/excalidraw](https://github.com/excalidraw/excalidraw)
- **æ„å»ºå·¥å…·**ï¼š[Vite](https://vitejs.dev/)
- **UI ç»„ä»¶**ï¼š[shadcn/ui](https://ui.shadcn.com/) é…åˆ [Tailwind CSS](https://tailwindcss.com/)
- **çŠ¶æ€ç®¡ç†**ï¼šReact hooks é…åˆæœ¬åœ°å­˜å‚¨æŒä¹…åŒ–

### å®‰å…¨ç‰¹æ€§

- **è·¯å¾„éå†ä¿æŠ¤**ï¼šæ‰€æœ‰æ–‡ä»¶è·¯å¾„éƒ½ç»è¿‡éªŒè¯å’Œè§„èŒƒåŒ–
- **æ–‡ä»¶ç±»å‹éªŒè¯**ï¼šåªèƒ½è¯»å†™ `.excalidraw` æ–‡ä»¶
- **å†…å®¹éªŒè¯**ï¼šä¿å­˜å‰éªŒè¯ JSON ç»“æ„
- **æ²™ç›’æ–‡ä»¶è®¿é—®**ï¼šTauri çš„å®‰å…¨æ¨¡å‹é™åˆ¶æ–‡ä»¶ç³»ç»Ÿè®¿é—®

## å¼€å‘

### é¡¹ç›®ç»“æ„

```
excaliapp/
â”œâ”€â”€ src/                    # React å‰ç«¯
â”‚   â”œâ”€â”€ components/         # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx    # æ–‡ä»¶æµè§ˆå™¨ä¾§è¾¹æ 
â”‚   â”‚   â”œâ”€â”€ TreeView.tsx   # åˆ†å±‚æ–‡ä»¶æ ‘
â”‚   â”‚   â””â”€â”€ ExcalidrawEditor.tsx # ç¼–è¾‘å™¨åŒ…è£…å™¨
â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰ React hooks
â”‚   â”œâ”€â”€ lib/               # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ App.tsx            # ä¸»åº”ç”¨ç¨‹åº
â”œâ”€â”€ src-tauri/             # Rust åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.rs        # å…¥å£ç‚¹
â”‚   â”‚   â”œâ”€â”€ lib.rs         # æ ¸å¿ƒé€»è¾‘å’Œå‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ menu.rs        # åŸç”Ÿèœå•è®¾ç½®
â”‚   â”‚   â””â”€â”€ security.rs    # å®‰å…¨éªŒè¯
â”‚   â””â”€â”€ tauri.conf.json    # Tauri é…ç½®
â””â”€â”€ package.json           # Node ä¾èµ–
```

### å¯ç”¨è„šæœ¬

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# ä»¥å¼€å‘æ¨¡å¼è¿è¡Œ Tauri
npm run tauri dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run tauri build

# ç±»å‹æ£€æŸ¥
npm run type-check

# æ ¼å¼åŒ–ä»£ç 
npm run format
```

### è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Pull Requestã€‚

1. Fork ä»“åº“
2. åˆ›å»ºæ‚¨çš„åŠŸèƒ½åˆ†æ”¯ï¼ˆ`git checkout -b feature/amazing-feature`ï¼‰
3. æäº¤æ‚¨çš„æ›´æ”¹ï¼ˆ`git commit -m 'æ·»åŠ ä¸€äº›å¾ˆæ£’çš„åŠŸèƒ½'`ï¼‰
4. æ¨é€åˆ°åˆ†æ”¯ï¼ˆ`git push origin feature/amazing-feature`ï¼‰
5. æ‰“å¼€ä¸€ä¸ª Pull Request

## è®¸å¯è¯

MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## è‡´è°¢

- [Excalidraw](https://excalidraw.com/) æä¾›äº†å‡ºè‰²çš„ç»˜å›¾å¼•æ“
- [Tauri](https://tauri.app/) æä¾›äº†æ¡Œé¢æ¡†æ¶
- å¼€æºç¤¾åŒºçš„æŒç»­å¯å‘